<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DaNoo - Strategy Intelligence v5.2</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;700&family=Space+Mono&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="background-glow"></div>
    <div class="container">
        <header>
            <div class="logo">
                <span class="pulse"></span>
                <h1>DANOO <span>v5.2</span></h1>
            </div>
            <div class="system-status">
                <div class="btn-group-nav">
                    <button class="nav-btn" data-target="vps-overlay">HEALTH</button>
                    <button class="nav-btn" data-target="logs-overlay">LOGS</button>
                    <button class="nav-btn" data-target="files-overlay">VAULT</button>
                </div>
                <span id="mode-tag" class="tag paper-mode">{{ state.mode }} MODE</span>
            </div>
        </header>

        <main>
            <!-- Top Dashboard Stats -->
            <section class="dashboard-grid">
                <div class="card glass">
                    <h3>EQUITY</h3>
                    <p class="value" id="equity-value">${{ "{:,.2f}".format(state.equity) }}</p>
                    <span class="trend up">+2.45% (24h)</span>
                </div>
                <button class="card glass interactive-card" id="regime-btn">
                    <div class="card-header-flex">
                        <h3>MARKET REGIME</h3>
                        <span class="mini-tag">FORCE SCAN</span>
                    </div>
                    <p class="value cyan" id="regime-value">{{ state.regime }}</p>
                    <div class="regime-visual">
                        <div id="regime-bar" class="bar-fill" style="width: 50%"></div>
                    </div>
                </button>
                <div class="card glass">
                    <h3>AI SENTIMENT</h3>
                    <p class="value cyan" id="sentiment-value">{{ state.sentiment_score }}</p>
                    <span id="ai-insight-snip" class="trend">{{ state.ai_insight }}</span>
                </div>
                <div class="card glass">
                    <h3>PERFORMANCE</h3>
                    <div class="chart-wrapper">
                        <canvas id="pnlChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Main Operational Hub -->
            <div class="operations-hub">
                <!-- Left: AI Intelligence -->
                <div class="intelligence-column">
                    <section class="ops-panel recon-panel glass">
                        <div class="chat-header">
                            <div class="header-flex">
                                <h2>MISSION RECON</h2>
                                <div class="header-actions">
                                    <button id="recon-btn" class="mini-btn-outline">INITIATE SCAN</button>
                                    <span class="live-indicator">LIVE FEED</span>
                                </div>
                            </div>
                        </div>
                        <div id="recon-history" class="recon-list">
                            <div class="recon-item empty">Awaiting first reconnaissance report...</div>
                        </div>
                    </section>

                    <section class="ops-panel glass chat-panel">
                        <div class="chat-header">
                            <h2>MASTER COMMAND</h2>
                        </div>
                        <div id="chat-messages" class="chat-messages">
                            <div class="msg bot">Welcome, Commander. DaNoo is ready.</div>
                        </div>
                        <div class="chat-input-area">
                            <input type="text" id="chat-input" placeholder="Type instruction..." autocomplete="off">
                            <button id="send-btn">SEND</button>
                        </div>
                    </section>
                </div>

                <!-- Right: Strategy & Execution -->
                <div class="strategy-column">
                    <section class="ops-panel glass trade-feed">
                        <div class="chat-header">
                            <h2>ACTIVE TRADES</h2>
                        </div>
                        <div id="trade-list" class="mini-feed">
                            <div class="recon-item empty">No active paper trades.</div>
                        </div>
                    </section>

                    <section class="ops-panel glass approval-feed">
                        <div class="chat-header">
                            <h2>APPROVAL QUEUE</h2>
                        </div>
                        <div id="approval-list" class="mini-feed">
                            <div class="recon-item empty">Queue clear. Awaiting signals...</div>
                        </div>
                    </section>
                </div>
            </div>
        </main>

        <!-- Hidden Overlays -->
        <div id="vps-overlay" class="overlay hidden glass">
            <div class="overlay-header">
                <h2>VPS HEALTH & VITALS</h2>
                <button class="close-overlay">×</button>
            </div>
            <div class="health-grid">
                <div class="health-item">
                    <label>CPU</label>
                    <div class="health-bar">
                        <div id="cpu-bar" class="health-fill"></div>
                    </div>
                    <span id="cpu-val">0%</span>
                </div>
                <div class="health-item">
                    <label>RAM</label>
                    <div class="health-bar">
                        <div id="ram-bar" class="health-fill"></div>
                    </div>
                    <span id="ram-val">0%</span>
                </div>
                <div class="health-item">
                    <label>DISK</label>
                    <div class="health-bar">
                        <div id="disk-bar" class="health-fill"></div>
                    </div>
                    <span id="disk-val">0%</span>
                </div>
            </div>
            <div class="btn-group-center">
                <button id="report-btn" class="mini-btn">SYSTEM REPORT</button>
                <div id="report-terminal" class="terminal-view hidden">
                    <pre id="report-content"></pre>
                </div>
            </div>
        </div>

        <div id="logs-overlay" class="overlay hidden glass">
            <div class="overlay-header">
                <h2>SYSTEM LOGS</h2>
                <button id="cleanup-btn" class="mini-btn-link">PURGE</button>
                <button class="close-overlay">×</button>
            </div>
            <div id="log-list" class="log-list"></div>
        </div>

        <div id="files-overlay" class="overlay hidden glass">
            <div class="overlay-header">
                <h2>FILE VAULT</h2>
                <button class="close-overlay">×</button>
            </div>
            <div class="file-controls">
                <select id="file-target">
                    <option value="reference">Reference</option>
                    <option value="data">Data</option>
                </select>
                <button id="upload-btn" class="mini-btn">UPLOAD</button>
            </div>
            <div id="file-list" class="file-list"></div>
        </div>

        <footer>
            <div class="footer-segment">SYMBOL: <span id="meta-symbol">{{ state.symbol }}</span></div>
            <div class="footer-segment">UPTIME: <span id="uptime">04:22:15</span></div>
            <div class="footer-segment">VERSION: <span id="meta-version">{{ state.version or '5.2.0' }}</span></div>
        </footer>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/static/script.js"></script>
</body>

</html>