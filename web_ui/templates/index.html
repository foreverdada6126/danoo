<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DaNoo - Commmand Hub v5.2</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app-wrapper">
        <header>
            <div class="brand">DANOO <span>v5.2</span></div>
            <div class="top-vitals">
                <div class="vital-item">
                    <label>EQUITY:</label>
                    <span id="equity-value" class="val">$1,000.00</span>
                </div>
                <div class="vital-item">
                    <label>REGIME:</label>
                    <span id="regime-value" class="val">RANGING</span>
                </div>
                <div class="vital-item">
                    <label>PRICE:</label>
                    <span id="price-value" class="val">$0.00</span>
                </div>
                <div class="vital-item">
                    <label>FUNDING:</label>
                    <span id="funding-value" class="val">0.0%</span>
                </div>
                <div class="vital-item">
                    <label>SENTIMENT:</label>
                    <span id="sentiment-value" class="val">0.0</span>
                </div>
            </div>
            <div class="nav-actions">
                <div id="exchange-status" class="btn-sm"
                    style="display: flex; align-items: center; gap: 6px; background: rgba(255, 100, 100, 0.1); color: #ff6464; border: 1px solid #ff646422;">
                    <div id="exchange-dot"
                        style="width: 8px; height: 8px; border-radius: 50%; background: #ff6464; box-shadow: 0 0 5px #ff6464;">
                    </div>
                    <span id="exchange-name">NOT CONNECTED</span>
                </div>
                <button class="btn-sm" onclick="toggleOverlay('vps-overlay')">HEALTH</button>
                <button class="btn-sm" onclick="toggleOverlay('logs-overlay')">LOGS</button>
                <button class="btn-sm" onclick="toggleOverlay('files-overlay')">FILES</button>
                <button id="ai-toggle-btn" class="btn-sm" onclick="toggleAI()"
                    style="background: rgba(0, 255, 100, 0.1); color: #00ff64; border: 1px solid #00ff6422;">AI:
                    ON</button>
                <div id="mode-tag" class="btn-sm"
                    style="background: rgba(255, 170, 0, 0.1); color: #ffaa00; border: 1px solid #ffaa0022;">PAPER MODE
                </div>
            </div>
        </header>

        <main>
            <!-- Column 1: Intelligence -->
            <section class="panel">
                <div class="panel-title">MISSION RECON <button id="recon-btn" class="btn-sm"
                        style="font-size: 0.5rem; padding: 2px 6px;">SCAN</button></div>
                <div id="recon-history" class="feed">
                    <div class="card-item">
                        <div class="card-body">Awaiting tactical research...</div>
                    </div>
                </div>
            </section>

            <!-- Column 2: Execution & Performance -->
            <section class="panel center-content">
                <div class="panel">
                    <div class="panel-title">LIVE MARKET <span id="market-symbol-title"
                            style="color: var(--text-dim); font-size: 0.6rem;">BTCUSDT</span></div>
                    <div class="chart-zone" style="padding: 0; height: 100%;">
                        <div class="tradingview-widget-container" style="height:100%;width:100%">
                            <div id="tradingview_1" style="height:calc(100% - 32px);width:100%"></div>
                            <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
                            <script type="text/javascript">
                                new TradingView.widget(
                                    {
                                        "autosize": true,
                                        "symbol": "BYBIT:BTCUSDT",
                                        "interval": "15",
                                        "timezone": "Etc/UTC",
                                        "theme": "dark",
                                        "style": "1",
                                        "locale": "en",
                                        "enable_publishing": false,
                                        "backgroundColor": "#0a0b0d",
                                        "gridColor": "#131722",
                                        "hide_top_toolbar": true,
                                        "hide_legend": true,
                                        "save_image": false,
                                        "container_id": "tradingview_1"
                                    }
                                );
                            </script>
                        </div>
                    </div>
                </div>
                <div class="panel" style="border-top: 1px solid var(--border);">
                    <div class="panel-title">PERFORMANCE <span style="color: var(--text-dim); font-size: 0.6rem;">EQUITY
                            GROWTH</span></div>
                    <div class="chart-zone">
                        <div class="chart-container">
                            <canvas id="pnlChart"></canvas>
                        </div>
                    </div>
                </div>
                <div class="panel" style="border-top: 1px solid var(--border);">
                    <div class="panel-title">ACTIVE TRADES <span id="orders-count" class="up">0</span></div>
                    <div id="trade-list" class="feed">
                        <div class="card-item">
                            <div class="card-body" style="color: var(--text-dim); text-align: center;">No exposure
                                found.</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Column 3: Ops & Control -->
            <section class="panel">
                <div class="panel-title">APPROVAL QUEUE</div>
                <div id="approval-list" class="feed" style="max-height: 40%;">
                    <div class="card-item">
                        <div class="card-body" style="color: var(--text-dim); text-align: center;">Queue empty.</div>
                    </div>
                </div>
                <div class="panel" style="border-top: 1px solid var(--border); flex-grow: 1;">
                    <div class="panel-title">MASTER COMMAND</div>
                    <div id="chat-messages" class="chat-messages">
                        <div class="msg bot">System initialized. Ready for instructions.</div>
                    </div>
                    <div class="chat-input-row">
                        <input type="text" id="chat-input" placeholder="Enter command..." autocomplete="off">
                        <button id="send-btn">SEND</button>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <div>SYMBOL: <span id="meta-symbol">BTCUSDT</span></div>
            <div>VPS: OPERATIONAL</div>
            <div id="uptime">00:00:00</div>
        </footer>

        <!-- Overlays -->
        <div id="vps-overlay" class="overlay hidden">
            <div class="overlay-header">
                <h3>VPS HEALTH</h3><button class="close-btn" onclick="toggleOverlay('vps-overlay')">×</button>
            </div>
            <div class="feed" style="padding: 1.5rem;">
                <div class="vital-item" style="margin-bottom: 1rem;"><label>CPU:</label><span id="cpu-val"
                        class="val">0%</span></div>
                <div class="vital-item" style="margin-bottom: 1rem;"><label>RAM:</label><span id="ram-val"
                        class="val">0%</span></div>
                <div class="vital-item" style="margin-bottom: 1rem;"><label>DISK:</label><span id="disk-val"
                        class="val">0%</span></div>
                <button id="report-btn" class="btn-sm" style="width: 100%; margin-top: 1rem;">GENERATE FULL
                    REPORT</button>
                <div id="report-terminal" class="hidden"
                    style="background:#000; padding: 10px; font-family: 'Space Mono', monospace; font-size: 0.6rem; margin-top: 10px; border: 1px solid var(--border); max-height: 200px; overflow-y: auto;">
                    <pre id="report-content" style="white-space: pre-wrap; color: #8b949e;"></pre>
                </div>
            </div>
        </div>

        <div id="logs-overlay" class="overlay hidden">
            <div class="overlay-header">
                <h3>SYSTEM LOGS</h3><button class="close-btn" onclick="toggleOverlay('logs-overlay')">×</button>
            </div>
            <div id="log-list" class="feed" style="font-family: 'Space Mono', monospace; font-size: 0.65rem;"></div>
            <div style="padding: 10px; border-top: 1px solid var(--border);"><button id="cleanup-btn" class="btn-sm"
                    style="width: 100%;">PURGE LOGS</button></div>
        </div>

        <div id="files-overlay" class="overlay hidden">
            <div class="overlay-header">
                <h3>FILE VAULT</h3><button class="close-btn" onclick="toggleOverlay('files-overlay')">×</button>
            </div>
            <div class="feed">
                <div class="chat-input-row" style="border:none;">
                    <select id="file-target"
                        style="background:#1e222d; color:#fff; border:1px solid var(--border); padding:5px; border-radius:4px;">
                        <option value="reference">Reference</option>
                        <option value="data">Data</option>
                    </select>
                    <button id="upload-btn" class="btn-sm">UPLOAD NEW</button>
                </div>
                <div id="file-list" class="feed" style="font-size: 0.7rem;"></div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/static/script.js?v=5.2.1"></script>
</body>

</html>